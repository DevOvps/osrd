# Generated by Django 3.1.6 on 2022-03-25 10:26

from django.db import migrations, models
import osrd_infra.utils


class Migration(migrations.Migration):

    dependencies = [
        ('osrd_infra', '0008_add_generated_tables'),
    ]

    operations = [
        migrations.AlterField(
            model_name='pathmodel',
            name='payload',
            field=models.JSONField(validators=[osrd_infra.utils.JSONSchemaValidator(limit_value={'definitions': {'Direction': {'description': 'An enumeration.', 'enum': ['START_TO_STOP', 'STOP_TO_START'], 'title': 'Direction', 'type': 'string'}, 'DirectionalTrackRange': {'properties': {'begin': {'title': 'Begin', 'type': 'number'}, 'direction': {'$ref': '#/definitions/Direction'}, 'end': {'title': 'End', 'type': 'number'}, 'track': {'$ref': '#/definitions/ObjectReference'}}, 'required': ['track', 'begin', 'end', 'direction'], 'title': 'DirectionalTrackRange', 'type': 'object'}, 'ObjectReference': {'properties': {'id': {'maxLength': 255, 'title': 'Id', 'type': 'string'}, 'type': {'title': 'Type', 'type': 'string'}}, 'required': ['id', 'type'], 'title': 'ObjectReference', 'type': 'object'}, 'PathWaypoint': {'properties': {'duration': {'title': 'Duration', 'type': 'number'}, 'geo': {'$ref': '#/definitions/Point'}, 'name': {'title': 'Name', 'type': 'string'}, 'position': {'title': 'Position', 'type': 'number'}, 'sch': {'$ref': '#/definitions/Point'}, 'suggestion': {'title': 'Suggestion', 'type': 'boolean'}, 'track': {'$ref': '#/definitions/ObjectReference'}}, 'required': ['track', 'position', 'geo', 'sch', 'suggestion', 'duration'], 'title': 'PathWaypoint', 'type': 'object'}, 'Point': {'description': 'Point Model', 'properties': {'coordinates': {'anyOf': [{'items': [{'anyOf': [{'type': 'number'}, {'type': 'integer'}]}, {'anyOf': [{'type': 'number'}, {'type': 'integer'}]}], 'type': 'array'}, {'items': [{'anyOf': [{'type': 'number'}, {'type': 'integer'}]}, {'anyOf': [{'type': 'number'}, {'type': 'integer'}]}, {'anyOf': [{'type': 'number'}, {'type': 'integer'}]}], 'type': 'array'}], 'title': 'Coordinates'}, 'type': {'const': 'Point', 'title': 'Type', 'type': 'string'}}, 'required': ['coordinates'], 'title': 'Point', 'type': 'object'}, 'RoutePath': {'properties': {'route': {'$ref': '#/definitions/ObjectReference'}, 'track_sections': {'items': {'$ref': '#/definitions/DirectionalTrackRange'}, 'title': 'Track Sections', 'type': 'array'}}, 'required': ['route', 'track_sections'], 'title': 'RoutePath', 'type': 'object'}}, 'properties': {'path_waypoints': {'items': {'$ref': '#/definitions/PathWaypoint'}, 'title': 'Path Waypoints', 'type': 'array'}, 'route_paths': {'items': {'$ref': '#/definitions/RoutePath'}, 'title': 'Route Paths', 'type': 'array'}}, 'required': ['route_paths', 'path_waypoints'], 'title': 'PathPayload', 'type': 'object'})]),
        ),
        migrations.AlterField(
            model_name='routemodel',
            name='data',
            field=models.JSONField(validators=[osrd_infra.utils.JSONSchemaValidator(limit_value={'definitions': {'Direction': {'description': 'An enumeration.', 'enum': ['START_TO_STOP', 'STOP_TO_START'], 'title': 'Direction', 'type': 'string'}, 'DirectionalTrackRange': {'properties': {'begin': {'title': 'Begin', 'type': 'number'}, 'direction': {'$ref': '#/definitions/Direction'}, 'end': {'title': 'End', 'type': 'number'}, 'track': {'$ref': '#/definitions/ObjectReference'}}, 'required': ['track', 'begin', 'end', 'direction'], 'title': 'DirectionalTrackRange', 'type': 'object'}, 'ObjectReference': {'properties': {'id': {'maxLength': 255, 'title': 'Id', 'type': 'string'}, 'type': {'title': 'Type', 'type': 'string'}}, 'required': ['id', 'type'], 'title': 'ObjectReference', 'type': 'object'}}, 'properties': {'entry_point': {'$ref': '#/definitions/ObjectReference'}, 'exit_point': {'$ref': '#/definitions/ObjectReference'}, 'id': {'maxLength': 255, 'title': 'Id', 'type': 'string'}, 'is_controlled': {'title': 'Is Controlled', 'type': 'boolean'}, 'path': {'items': {'$ref': '#/definitions/DirectionalTrackRange'}, 'title': 'Path', 'type': 'array'}, 'release_detectors': {'items': {'$ref': '#/definitions/ObjectReference'}, 'title': 'Release Detectors', 'type': 'array'}}, 'required': ['id', 'entry_point', 'exit_point', 'release_detectors', 'path'], 'title': 'Route', 'type': 'object'})]),
        ),
        migrations.AlterField(
            model_name='tracksectionmodel',
            name='data',
            field=models.JSONField(validators=[osrd_infra.utils.JSONSchemaValidator(limit_value={'definitions': {'ApplicableDirections': {'description': 'An enumeration.', 'enum': ['START_TO_STOP', 'STOP_TO_START', 'BOTH'], 'title': 'ApplicableDirections', 'type': 'string'}, 'Curve': {'properties': {'begin': {'title': 'Begin', 'type': 'number'}, 'end': {'title': 'End', 'type': 'number'}, 'radius': {'title': 'Radius', 'type': 'number'}}, 'required': ['radius', 'begin', 'end'], 'title': 'Curve', 'type': 'object'}, 'LineString': {'description': 'LineString Model', 'properties': {'coordinates': {'items': {'anyOf': [{'items': [{'anyOf': [{'type': 'number'}, {'type': 'integer'}]}, {'anyOf': [{'type': 'number'}, {'type': 'integer'}]}], 'type': 'array'}, {'items': [{'anyOf': [{'type': 'number'}, {'type': 'integer'}]}, {'anyOf': [{'type': 'number'}, {'type': 'integer'}]}, {'anyOf': [{'type': 'number'}, {'type': 'integer'}]}], 'type': 'array'}]}, 'minItems': 2, 'title': 'Coordinates', 'type': 'array'}, 'type': {'const': 'LineString', 'title': 'Type', 'type': 'string'}}, 'required': ['coordinates'], 'title': 'LineString', 'type': 'object'}, 'Slope': {'properties': {'begin': {'title': 'Begin', 'type': 'number'}, 'end': {'title': 'End', 'type': 'number'}, 'gradient': {'title': 'Gradient', 'type': 'number'}}, 'required': ['gradient', 'begin', 'end'], 'title': 'Slope', 'type': 'object'}}, 'properties': {'curves': {'items': {'$ref': '#/definitions/Curve'}, 'title': 'Curves', 'type': 'array'}, 'geo': {'$ref': '#/definitions/LineString'}, 'id': {'maxLength': 255, 'title': 'Id', 'type': 'string'}, 'length': {'title': 'Length', 'type': 'number'}, 'line_code': {'title': 'Line Code', 'type': 'integer'}, 'line_name': {'maxLength': 255, 'title': 'Line Name', 'type': 'string'}, 'navigability': {'$ref': '#/definitions/ApplicableDirections'}, 'sch': {'$ref': '#/definitions/LineString'}, 'slopes': {'items': {'$ref': '#/definitions/Slope'}, 'title': 'Slopes', 'type': 'array'}, 'track_name': {'maxLength': 255, 'title': 'Track Name', 'type': 'string'}, 'track_number': {'title': 'Track Number', 'type': 'integer'}}, 'required': ['geo', 'sch', 'id', 'length', 'line_code', 'line_name', 'track_number', 'track_name', 'navigability', 'slopes', 'curves'], 'title': 'TrackSection', 'type': 'object'})]),
        ),
        migrations.AlterField(
            model_name='trainschedulemodel',
            name='allowances',
            field=models.JSONField(default=[], validators=[osrd_infra.utils.JSONSchemaValidator(limit_value={'definitions': {'Allowance': {'anyOf': [{'$ref': '#/definitions/ConstructionAllowance'}, {'$ref': '#/definitions/MarecoAllowance'}], 'discriminator': 'allowance_type', 'title': 'Allowance'}, 'AllowancePercentValue': {'properties': {'percentage': {'title': 'Percentage', 'type': 'number'}, 'value_type': {'default': 'percentage', 'enum': ['percentage'], 'title': 'Value Type', 'type': 'string'}}, 'required': ['percentage'], 'title': 'AllowancePercentValue', 'type': 'object'}, 'AllowanceTimePerDistanceValue': {'properties': {'minutes': {'description': 'min/100km', 'title': 'Minutes', 'type': 'number'}, 'value_type': {'default': 'time_per_distance', 'enum': ['time_per_distance'], 'title': 'Value Type', 'type': 'string'}}, 'required': ['minutes'], 'title': 'AllowanceTimePerDistanceValue', 'type': 'object'}, 'AllowanceTimeValue': {'properties': {'seconds': {'title': 'Seconds', 'type': 'number'}, 'value_type': {'default': 'time', 'enum': ['time'], 'title': 'Value Type', 'type': 'string'}}, 'required': ['seconds'], 'title': 'AllowanceTimeValue', 'type': 'object'}, 'AllowanceValue': {'anyOf': [{'$ref': '#/definitions/AllowanceTimeValue'}, {'$ref': '#/definitions/AllowancePercentValue'}, {'$ref': '#/definitions/AllowanceTimePerDistanceValue'}], 'discriminator': 'value_type', 'title': 'AllowanceValue'}, 'ConstructionAllowance': {'properties': {'allowance_type': {'default': 'construction', 'enum': ['construction'], 'title': 'Allowance Type', 'type': 'string'}, 'begin_position': {'title': 'Begin Position', 'type': 'number'}, 'end_position': {'title': 'End Position', 'type': 'number'}, 'value': {'$ref': '#/definitions/AllowanceValue'}}, 'required': ['begin_position', 'end_position', 'value'], 'title': 'ConstructionAllowance', 'type': 'object'}, 'MarecoAllowance': {'properties': {'allowance_type': {'default': 'mareco', 'enum': ['mareco'], 'title': 'Allowance Type', 'type': 'string'}, 'default_value': {'$ref': '#/definitions/AllowanceValue'}, 'ranges': {'items': {'$ref': '#/definitions/RangeAllowance'}, 'title': 'Ranges', 'type': 'array'}}, 'required': ['default_value', 'ranges'], 'title': 'MarecoAllowance', 'type': 'object'}, 'RangeAllowance': {'properties': {'begin_position': {'title': 'Begin Position', 'type': 'number'}, 'end_position': {'title': 'End Position', 'type': 'number'}, 'value': {'$ref': '#/definitions/AllowanceValue'}}, 'required': ['begin_position', 'end_position', 'value'], 'title': 'RangeAllowance', 'type': 'object'}}, 'items': {'$ref': '#/definitions/Allowance'}, 'title': 'Allowances', 'type': 'array'})]),
        ),
    ]
